#include QMK_KEYBOARD_H

#define _COLEMAK 0 // default base layer
#define _LWR 1 // Lower
#define _RSE 2 // Raise
#define _ADJ 3 // Adjust
#define _QWERTY 4 // can be base layer (not stored in EEPROM) => usefull for photoshop etc.
#define _GAME 5 // can toggle ON / OFF


enum custom_keycodes {
  LT_LWR = SAFE_RANGE,
  LT_RSE,
  LT_GRV,
  LT_QTE,
  KEEB,
  SET_WIN,
  SET_MAC,
  // TGL_KPD,
};
#define XXXXX KC_NO
#define _____ _______

// homerow mods
#define LSHFT_T MT(MOD_LSFT, KC_T)
#define RHSFT_N MT(MOD_RSFT, KC_N)
#define LGUI_A MT(MOD_LGUI, KC_A)
#define RGUI_O MT(MOD_RGUI, KC_O)
#define LALT_S MT(MOD_LALT, KC_S)
#define RALT_I MT(MOD_RALT, KC_I)
#define LCTL_R MT(MOD_LCTL, KC_R)
#define RCTL_E MT(MOD_RCTL, KC_E)
#define LCMCT_D MT(MOD_LCTL, KC_D) // duplicate of either CTRL or CMD (for left hand only shortcuts)
// qwerty-specific
#define LSHFT_F MT(MOD_LSFT, KC_F)
#define RSHFT_J MT(MOD_RSFT, KC_J)
#define RGUI_SCL MT(MOD_RGUI, KC_SCLN)
#define RALT_L MT(MOD_RALT, KC_L)
#define LCTL_D MT(MOD_LCTL, KC_D)
#define RCTL_K MT(MOD_RCTL, KC_K)
#define LCMCT_G MT(MOD_LCTL, KC_G) // duplicate of either CTRL or CMD (for left hand only shortcuts)

#define RSFT_ENT RSFT_T(KC_ENT)
#define LSFT_ENT LSFT_T(KC_ENT)
#define CTR_HOM LCTL_T(KC_HOME)
#define ALT_END ALGR_T(KC_END)
// #define SFT_ESC SFT_T(KC_ESC)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

// COLEMAK // mutually exclusive with _QWERTY
[_COLEMAK] = LAYOUT(
//â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®________       ________â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®
//â”‚  Tab  â”‚   Q   â”‚   W   â”‚   F   â”‚   P   â”‚   G   â”‚        â”‚     â”‚ XXXXX  â”‚   J   â”‚   L   â”‚   U   â”‚   Y   â”‚   ;   â”‚   =   â”‚
   KC_TAB,  KC_Q,   KC_W,   KC_F,   KC_P,   KC_G,    XXXXX,        XXXXX,  KC_J,   KC_L,   KC_U,   KC_Y,  KC_SCLN, KC_EQL,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚   `   â”‚   A   â”‚   S   â”‚   R   â”‚   T   â”‚   D   â”‚ScrnShotâ”‚     â”‚ XXXXX  â”‚   H   â”‚   N   â”‚   E   â”‚   I   â”‚   O   â”‚   '   â”‚
   LT_GRV, LGUI_A, LALT_S, LCTL_R, LSHFT_T,LCMCT_D,    XXXXX,        XXXXX,   KC_H,  RHSFT_N, RCTL_E, RALT_I, RGUI_O, LT_QTE,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚ LShEscâ”‚   Z   â”‚   X   â”‚   C   â”‚   V   â”‚   B   â”‚/  Del  /     \ Enter \â”‚   K   â”‚   M   â”‚   ,   â”‚   .   â”‚   /   â”‚ RShEntâ”‚
  LSFT_ENT, KC_Z,   KC_X,   KC_C,   KC_V,   KC_B,  KC_DEL,         KC_ENT,  KC_K,   KC_M, KC_COMM, KC_DOT, KC_SLSH,RSFT_ENT,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€/_______/         \_______\â”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚ LCTRL â”‚  KEEB â”‚     â”‚ LGUI  â”‚ LAlt  â”‚  LWR  / BckSp  /         \  Space \  RSE  â”‚   \   â”‚       â”‚     â”‚       â”‚ RALT  â”‚
   CTR_HOM,  KEEB,      KC_LGUI, KC_LALT, LT_LWR, KC_BSPC,         KC_SPC,   LT_RSE, KC_BSLS, XXXXX,        XXXXX, ALT_END
//â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€/________/             \________\â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯
),

// QWERTY // mutually exclusive with _COLEMAK
[_QWERTY] = LAYOUT(
//â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®________       ________â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®
//â”‚  Tab  â”‚   Q   â”‚   W   â”‚   E   â”‚   R   â”‚   T   â”‚        â”‚     â”‚ XXXXX  â”‚   Y   â”‚   U   â”‚   I   â”‚   O   â”‚   P   â”‚   =   â”‚
   KC_TAB,  KC_Q,   KC_W,   KC_E,   KC_R,   KC_T,    XXXXX,        XXXXX,   KC_Y,   KC_U,   KC_I,   KC_O,   KC_P,  KC_EQL,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚   `   â”‚   A   â”‚   S   â”‚   D   â”‚   F   â”‚   G   â”‚ScrnShotâ”‚     â”‚ XXXXX  â”‚   H   â”‚   J   â”‚   K   â”‚   L   â”‚   ;   â”‚   '   â”‚
   LT_GRV, LGUI_A, LALT_S, LCTL_D, LSHFT_F,LCMCT_G,    XXXXX,        XXXXX,   KC_H,  RSHFT_J,RCTL_K, RALT_L,RGUI_SCL, LT_QTE,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚ LShEscâ”‚   Z   â”‚   X   â”‚   C   â”‚   V   â”‚   B   â”‚/  Del  /     \ Enter \â”‚   N   â”‚   M   â”‚   ,   â”‚   .   â”‚   /   â”‚ RShEntâ”‚
  LSFT_ENT, KC_Z,   KC_X,   KC_C,   KC_V,   KC_B,  KC_DEL,         KC_ENT,  KC_N,   KC_M, KC_COMM, KC_DOT, KC_SLSH,RSFT_ENT,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€/_______/         \_______\â”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚ LCTRL â”‚  KEEB â”‚     â”‚ LGUI  â”‚ LAlt  â”‚  LWR  / BckSp  /         \  Space \  RSE  â”‚   \   â”‚       â”‚     â”‚       â”‚ RALT  â”‚
   CTR_HOM,  KEEB,      KC_LGUI, KC_LALT, LT_LWR, KC_BSPC,         KC_SPC,   LT_RSE, KC_BSLS, XXXXX,        XXXXX, ALT_END
//â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€/________/             \________\â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯
),

// LOWER
[_LWR] = LAYOUT(
//â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®________       ________â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®
//â”‚  Esc  â”‚   ,   â”‚   7   â”‚   8   â”‚   9   â”‚   *   â”‚        â”‚     â”‚ XXXXX  â”‚       â”‚   @   â”‚   #   â”‚   $   â”‚   %   â”‚       â”‚
   KC_ESC, KC_PCMM, KC_P7,  KC_P8,  KC_P9, KC_PAST,  XXXXX,        XXXXX,   XXXXX,  KC_AT, KC_HASH, KC_DLR,KC_PERC, _____,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚ NumPadâ”‚   .   â”‚   4   â”‚   5   â”‚   6   â”‚   /   â”‚ScrnShotâ”‚     â”‚ XXXXX  â”‚   ^   â”‚   &   â”‚   *   â”‚   (   â”‚   )   â”‚       â”‚
   KC_NUM, KC_PDOT, KC_P4,  KC_P5,  KC_P6, KC_PSLS,  XXXXX,        XXXXX,  KC_CIRC,KC_AMPR,KC_ASTR,KC_LPRN,KC_RPRN, _____,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚ KEnterâ”‚   0   â”‚   1   â”‚   2   â”‚   3   â”‚   +   â”‚/   =   /     \ Enter \â”‚   !   â”‚   [   â”‚   ]   â”‚   {   â”‚   }   â”‚       â”‚
   KC_PENT, KC_P0,  KC_P1,  KC_P2,  KC_P3, KC_PPLS, KC_EQL,         _____, KC_EXLM,KC_LBRC,KC_RBRC,KC_LCBR,KC_RCBR, _____,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€/_______/         \_______\â”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚       â”‚       â”‚     â”‚       â”‚       â”‚ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢/        /         \        \       â”‚       â”‚       â”‚     â”‚       â”‚       â”‚
    _____,  _____,        _____,  _____, _____,  _____,               _____,   _____, _____,  _____,        _____,  _____
//â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€/________/             \________\â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯
),

// RAISE
[_RSE] = LAYOUT(
//â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®________       ________â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®
//â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚        â”‚     â”‚        â”‚   â‡ž   â”‚   â‡¤   â”‚   â¬†ï¸   â”‚   â‡¥   â”‚       â”‚       â”‚
    _____,  _____,  _____,  _____,  _____,  _____,   XXXXX,        XXXXX,  KC_PGUP,KC_HOME, KC_UP,  KC_END, _____,  _____,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚        â”‚     â”‚        â”‚   â‡Ÿ   â”‚   â¬…ï¸   â”‚   â¬‡ï¸   â”‚   âž¡ï¸   â”‚       â”‚       â”‚
    _____,  _____,  _____,  _____,  _____,  _____,   XXXXX,        XXXXX,  KC_PGDN,KC_LEFT,KC_DOWN,KC_RGHT, _____,  _____,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚/       /     \       \â”‚       â”‚   â®  â”‚   â¯  â”‚   â­  â”‚       â”‚       â”‚
    _____,  _____,  _____,  _____,  _____,  _____,  _____,          _____,  _____, KC_MRWD,KC_MPLY,KC_MFFD, _____,  _____,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€/_______/         \_______\â”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚       â”‚       â”‚     â”‚       â”‚       â”‚       /        /         \        \ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢â”‚       â”‚       â”‚     â”‚       â”‚       â”‚
    _____,  _____,        _____,  _____, _____,  _____,               _____,   _____, _____,  _____,        _____,  _____
//â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€/________/             \________\â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯
),

// ADJUST
[_ADJ] = LAYOUT(
//â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®________       ________â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®
//â”‚  Esc  â”‚ vol + â”‚   F7  â”‚   F8  â”‚   F9  â”‚  F10  â”‚        â”‚     â”‚        â”‚Scrollâ¬†ï¸â”‚Scrollâ¬…ï¸â”‚  Mseâ¬†ï¸ â”‚Scrollâž¡ï¸â”‚Bright+â”‚       â”‚
    XXXXX, KC_VOLU, KC_F7,  KC_F8,  KC_F9,  KC_F10,  XXXXX,        XXXXX,  KC_WH_U,KC_WH_L,KC_MS_U,KC_WH_R,KC_BRIU, XXXXX,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢â”‚ vol - â”‚   F4  â”‚   F5  â”‚   F6  â”‚  F11  â”‚        â”‚     â”‚        â”‚Scrollâ¬‡ï¸â”‚  Mseâ¬…ï¸ â”‚  Mseâ¬‡ï¸ â”‚  Mseâž¡ï¸ â”‚Bright-â”‚ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢ðŸ¢â”‚
    _____, KC_VOLD, KC_F4,  KC_F5,  KC_F6,  KC_F11,  XXXXX,        XXXXX,  KC_WH_D,KC_MS_L,KC_MS_D,KC_MS_R,KC_BRID, _____,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚       â”‚  Mute â”‚   F1  â”‚   F2  â”‚   F3  â”‚  F12  â”‚/       /     \       \â”‚       â”‚   â®  â”‚   â¯  â”‚   â­  â”‚       â”‚       â”‚
    XXXXX, KC_MUTE, KC_F1,  KC_F2,  KC_F3,  KC_F12, EE_CLR,        XXXXX,   XXXXX, KC_MPRV,KC_MPLY,KC_MFFD, XXXXX,  XXXXX,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€/_______/         \_______\â”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚       â”‚       â”‚     â”‚       â”‚       â”‚       /        /         \        \MseBtn1â”‚MseBtn2â”‚MseBtn3â”‚     â”‚       â”‚       â”‚
    XXXXX,  XXXXX,       SET_WIN,SET_MAC, XXXXX,  _____,               _____, KC_BTN1,KC_BTN2,KC_BTN3,       XXXXX,  XXXXX
//â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€/________/             \________\â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯
),

// GAME
[_GAME] = LAYOUT( // TODO
//â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®________       ________â•­â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â•®
//â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚        â”‚     â”‚        â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚
    XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,   XXXXX,        XXXXX,   XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚        â”‚     â”‚        â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚
    XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,   XXXXX,        XXXXX,   XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤________âŽ¦     âŽ£________â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚/       /     \       \â”‚       â”‚       â”‚       â”‚       â”‚       â”‚       â”‚
    XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,   XXXXX,        XXXXX,   XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,  XXXXX,
//â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€/_______/         \_______\â”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
//â”‚       â”‚       â”‚     â”‚       â”‚       â”‚       /        /         \        \       â”‚       â”‚       â”‚     â”‚       â”‚       â”‚
    XXXXX,  XXXXX,        XXXXX,  XXXXX, XXXXX,  _____,               _____,  XXXXX,  XXXXX,  XXXXX,        XXXXX,  XXXXX
//â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€/________/             \________\â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯     â•°â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â•¯
),
};

bool isQwertyActive = false;
bool isMacOs = false;
static uint16_t key_timer;
bool no_other_key_pressed = true;

// layer_state_t currentLayer;

void LayerTap(int layer, uint16_t tapKeycode, int tapTerm, bool isTapFavored, keyrecord_t *record) {
    if (record->event.pressed) {
        // pressed
        layer_on(layer);
        key_timer = timer_read();
        no_other_key_pressed = true;
    } else {
    // released
    if (timer_elapsed(key_timer) < tapTerm) {
        // tapped
        if (no_other_key_pressed || isTapFavored) {
        tap_code16(tapKeycode);
        }
    } else {
        // held
    }
    key_timer = 0;
    layer_off(layer);
    }
}

void sendKeyCode16(uint16_t keycode, keyrecord_t *record) {
    if (record->event.pressed) {
        // pressed
        register_code16(keycode);
    } else {
        // released
        unregister_code16(keycode);
    }
}

// runs every time a layer is changed
layer_state_t layer_state_set_user(layer_state_t state) {
  // currentLayer = get_highest_layer(state);
  return state;
}

// runs every time a key is pressed/released
bool process_record_user(uint16_t keycode, keyrecord_t *record) {
  switch(keycode) {
    // case TGL_KPD:
    //   if (record->event.pressed) {
    //     // pressed
    //     isKeypadActive = !isKeypadActive;
    //       if (currentLayer == _LWR || currentLayer == _KPD) {
    //         layer_off(isKeypadActive ? _LWR : _KPD);
    //         layer_on(isKeypadActive ? _KPD : _LWR);
    //       }
    //   } else {
    //     // released
    //   }
    //   return false;

    case LT_LWR:
        // LT(1, KC_TAB);
        LayerTap(1, KC_TAB, TAPPING_TERM, false, record);
        return false;

    case LT_RSE:
        // LT(2, S(KC_MINS));
        LayerTap(2, KC_MINS, TAPPING_TERM, false, record);
        return false;

    case LT_GRV:
        // LT(3, KC_GRV);
        LayerTap(3, KC_GRV, TAPPING_TERM, true, record);
        return false;

    case LT_QTE:
        // LT(3, KC_QUOT);
        LayerTap(3, KC_QUOT, TAPPING_TERM, true, record);
        return false;

    case KEEB:
        if (record->event.pressed) {
            isQwertyActive = !isQwertyActive;
            layer_on(isQwertyActive ? _QWERTY : _COLEMAK);
            layer_off(isQwertyActive ? _COLEMAK : _QWERTY);
        }
        return false;

    case SET_WIN:
        isMacOs = false;
        return false;

    case SET_MAC:
        isMacOs = true;
        return false;

    case KC_LALT:
        if (isMacOs) {
            sendKeyCode16(KC_LGUI, record);
            return false;
        }
        return true;

    case KC_LGUI:
        if (isMacOs) {
            sendKeyCode16(KC_LALT, record);
            return false;
        }
        return true;

    case LCMCT_D:
        if (isMacOs) {
            sendKeyCode16(MT(MOD_LGUI, KC_D), record);
            return false;
        }
        return true;

    case LCMCT_G:
        if (isMacOs) {
            sendKeyCode16(MT(MOD_LGUI, KC_G), record);
            return false;
        }
        return true;


    case KC_SPC:
      return true;

    default:
      if (record->event.pressed) {
        // pressed
        no_other_key_pressed = false;
      } else {
        // released
      }
      return true; // Process all other keycodes
  }

  return true;
}

uint16_t get_tapping_term(uint16_t keycode, keyrecord_t *record) {
    switch (keycode) {
        case LCMCT_D:
        case LCMCT_G:
            return TAPPING_TERM + 30;
        case LGUI_A:
        case RGUI_O:
        case RGUI_SCL:
            return TAPPING_TERM + 50;
        default:
            return TAPPING_TERM;
    }
}
